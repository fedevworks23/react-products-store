import{j as e,u as h,r as u,b as P,s as x}from"./index-DfX44eLf.js";import{P as f}from"./ProductCard-vvQAZf8m.js";import{P as j}from"./PageHeading-DPu2pfNO.js";import"./StarRatings-mAY0bm2y.js";function b({totalProducts:a,productsPerPage:s,setCurrentPage:c,currentPage:n}){const i=[];for(let t=1;t<=Math.ceil(a/s);t++)i.push(t);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-wrap justify-center",children:i.map((t,l)=>e.jsx("button",{className:`bg-[var(--button-bg)] hover:bg-[var(--hover-button-bg)] m-1 w-[50px] h-[50px] text-[var(--button-text)] rounded-[4px] cursor-pointer
                ${n===t?"bg-[var(--hover-button-bg)] border-1 border-[var(--primary1)]":""}`,onClick:()=>c(t),children:t},l))})})}function g(){return e.jsx(e.Fragment,{children:e.jsx("hr",{className:"opacity-30 my-8"})})}function v({productsPerPage:a,setProductsPerPage:s,sortOrderType:c,setSortOrderType:n}){const i=r=>{s(r)},t=r=>{n(r)},l=["8","20","30"];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Items Per Page"}),e.jsx("select",{className:"bg-[var(--secondary)] p-2.5 px-3 py-2 border-1 border-gray-400 rounded-[4px] focus:outline-0 w-auto cursor-pointer",value:a,onChange:r=>i(r.target.value),children:l.map(r=>e.jsx("option",{value:r,children:r},r))})]}),"  ",e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Sort Items By "}),e.jsxs("select",{className:"bg-[var(--secondary)] p-2.5 px-3 py-2 border-1 border-gray-400 rounded-[4px] focus:outline-0 w-auto cursor-pointer",value:c,onChange:r=>t(r.target.value),children:[e.jsx("option",{value:"asc",disabled:c==="asc",children:"Price Low to High"}),e.jsxs("option",{value:"desc",disabled:c==="desc",children:["Price High to Low"," "]})]})]})]})})}function E(){const{all_products:a,product_filters:s,dispatch:c}=h();u.useEffect(()=>{c(P())},[]);const[n,i]=u.useState("asc"),[t,l]=u.useState(a);u.useEffect(()=>{n==="asc"?l([...a].sort((o,d)=>o.price-d.price)):n==="desc"&&l([...a].sort((o,d)=>d.price-o.price))},[a,n]);const r=Number(s?.current_page)*Number(s?.per_page),m=r-Number(s?.per_page),p=t.slice(m,r);return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx(j,{title:"All Products"}),e.jsx(v,{productsPerPage:s?.per_page,setProductsPerPage:o=>c(x({...s,per_page:o,current_page:1})),sortOrderType:n,setSortOrderType:i}),e.jsx(g,{}),e.jsx("div",{className:"gap-5 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4",children:Array.isArray(p)&&p.map((o,d)=>e.jsx(f,{item:o,wishlistsEnable:!0,deleteIconEnable:!1},d))}),e.jsx(g,{}),e.jsx(b,{totalProducts:a.length,productsPerPage:s?.per_page,currentPage:s?.current_page,setCurrentPage:o=>c(x({...s,current_page:o}))}),e.jsx("div",{className:"flex justify-center mt-8",children:" "})]})})}export{E as default};
